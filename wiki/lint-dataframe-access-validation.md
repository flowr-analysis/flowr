_This document was generated from '[src/documentation/print-linter-wiki.ts](https://github.com/flowr-analysis/flowr/tree/main//src/documentation/print-linter-wiki.ts)' on 2025-09-02, 21:55:19 UTC presenting an overview of flowR's linter (v2.4.7, using R v4.5.1). Please do not edit this file/wiki page directly._
<h2 id="dataframe-access-validation">Dataframe Access Validation&emsp;<sup>[<a href="https://github.com/flowr-analysis/flowr/wiki/Linter">overview</a>]</sup></h2>

<span title="This rule is used to detect bugs in the code. Everything that affects the semantics of the code, such as incorrect function calls, wrong arguments, etc. is to be considered a bug. Otherwise, it may be a smell or a style issue."><a href='#bug'>![bug](https://img.shields.io/badge/bug-red) </a></span> <span title="This rule is used to detect issues that are related to the reproducibility of the code. For example, missing or incorrect random seeds, or missing data."><a href='#reproducibility'>![reproducibility](https://img.shields.io/badge/reproducibility-teal) </a></span> <span title="This rule is used to detect issues that are related to the (re-)usability of the code. For example, missing or incorrect error handling, or missing or incorrect user interface elements."><a href='#usability'>![usability](https://img.shields.io/badge/usability-teal) </a></span>


This rule is a `best-effort` rule.
 
Validates the existance of accessed columns and rows of dataframes.\
_This linting rule is implemented in <a href="https://github.com/flowr-analysis/flowr/tree/main//src/linter/rules/dataframe-access-validation.ts#L59">src/linter/rules/dataframe-access-validation.ts</a>._


### Configuration

Linting rules can be configured by passing a configuration object to the linter query as shown in the example below.
The `dataframe-access-validation` rule accepts the following configuration options:

- <a href="https://github.com/flowr-analysis/flowr/tree/main//src/linter/rules/dataframe-access-validation.ts#L47"><code><span title="Whether data frame shapes should be extracted from loaded external data files, such as CSV files (defaults to the option in the flowR config if undefined)">readLoadedData</span></code></a>\
Whether data frame shapes should be extracted from loaded external data files, such as CSV files (defaults to the option in the flowR config if `undefined`)

### Examples


```r
df <- data.frame(id = 1:5, name = 6:10)
df[6, "value"]
```


The linting query can be used to run this rule on the above example:




```json
[ { "type": "linter",   "rules": [ { "name": "dataframe-access-validation",     "config": {} } ] } ]
```






_Results (prettified and summarized):_

Query: **linter** (2 ms)\
&nbsp;&nbsp;&nbsp;╰ **Dataframe Access Validation** (dataframe-access-validation):\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;╰ certain:\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;╰ Access of row 6 of `df` at 3.1-14\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;╰ Access of column "value" of `df` at 3.1-14\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;╰ _Metadata_: <code>{"numOperations":1,"numAccesses":2,"totalAccessed":2,"searchTimeMs":0,"processTimeMs":2}</code>\
_All queries together required ≈2 ms (1ms accuracy, total 5 ms)_

<details> <summary style="color:gray">Show Detailed Results as Json</summary>

The analysis required _5.2 ms_ (including parsing and normalization and the query) within the generation environment.	

In general, the JSON contains the Ids of the nodes in question as they are present in the normalized AST or the dataflow graph of flowR.
Please consult the [Interface](https://github.com/flowr-analysis/flowr/wiki/Interface) wiki page for more information on how to get those.




```json
{
  "linter": {
    "results": {
      "dataframe-access-validation": {
        "results": [
          {
            "type": "row",
            "accessed": 6,
            "access": "[",
            "operand": "df",
            "range": [
              3,
              1,
              3,
              14
            ],
            "certainty": "certain"
          },
          {
            "type": "column",
            "accessed": "value",
            "access": "[",
            "operand": "df",
            "range": [
              3,
              1,
              3,
              14
            ],
            "certainty": "certain"
          }
        ],
        ".meta": {
          "numOperations": 1,
          "numAccesses": 2,
          "totalAccessed": 2,
          "searchTimeMs": 0,
          "processTimeMs": 2
        }
      }
    },
    ".meta": {
      "timing": 2
    }
  },
  ".meta": {
    "timing": 2
  }
}
```



</details>







	

#### Additional Examples
	
These examples are synthesized from the test cases in: [test/functionality/linter/lint-dataframe-access-validation.test.ts](https://github.com/flowr-analysis/flowr/tree/main//test/functionality/linter/lint-dataframe-access-validation.test.ts)


<h4 id="Test_Case:_Column_access_by_name">Test Case: Column access by name</h4>

> We expect the linter to report an issue, if a column is accessed by name via `$` that does not exist in the data frame.

Given the following input:

```r
df <- data.frame(id = 1:3, name = c("Alice", "Bob", "Charlie"), score = c(90, 65, 75))
print(df$skill)
```



We expect the linter to report the following:

```ts
[{ type: 'column', accessed: 'skill', access: '$', operand: 'df', range: [2, 7, 2, 14], certainty: LintingResultCertainty.Certain }]
```


See [here](https://github.com/flowr-analysis/flowr/tree/main//test/functionality/linter/lint-dataframe-access-validation.test.ts#L155) for the test-case implementation.
		
<h4 id="Test_Case:_Column_access_by_index">Test Case: Column access by index</h4>

> We expect the linter to report an issue, if a column is accessed by index via `[` or `[[` that does not exist in the data frame.

Given the following input:

```r
df <- data.frame(id = 1:3, name = c("Alice", "Bob", "Charlie"), score = c(90, 65, 75))
print(df[3:4])
```



We expect the linter to report the following:

```ts
[{ type: 'column', accessed: 4, access: '[', operand: 'df', range: [2, 7, 2, 13], certainty: LintingResultCertainty.Certain }]
```


See [here](https://github.com/flowr-analysis/flowr/tree/main//test/functionality/linter/lint-dataframe-access-validation.test.ts#L164) for the test-case implementation.
		
<h4 id="Test_Case:_Row_access_by_index">Test Case: Row access by index</h4>

> We expect the linter to report an issue, if a row is accessed by index via `[` or `[[` that does not exist in the data frame.

Given the following input:

```r
df <- data.frame(id = 1:3, name = c("Alice", "Bob", "Charlie"), score = c(90, 65, 75))
print(df[[5, "score"]])
```



We expect the linter to report the following:

```ts
[{ type: 'row', accessed: 5, access: '[[', operand: 'df', range: [2, 7, 2, 22], certainty: LintingResultCertainty.Certain }]
```


See [here](https://github.com/flowr-analysis/flowr/tree/main//test/functionality/linter/lint-dataframe-access-validation.test.ts#L173) for the test-case implementation.
		
<h4 id="Test_Case:_Filter_access">Test Case: Filter access</h4>

> We expect the linter to report an issue, if a column is used in a `filter` function call that does not exist in the data frame.

Given the following input:

```r
df <- data.frame(id = 1:3, name = c("Alice", "Bob", "Charlie"), score = c(90, 65, 75))
df <- dplyr::filter(df, level > 70)
```



We expect the linter to report the following:

```ts
[{ type: 'column', accessed: 'level', access: 'dplyr::filter', operand: 'df', range: [2, 7, 2, 35], certainty: LintingResultCertainty.Certain }]
```


See [here](https://github.com/flowr-analysis/flowr/tree/main//test/functionality/linter/lint-dataframe-access-validation.test.ts#L182) for the test-case implementation.
		
<h4 id="Test_Case:_Select_access">Test Case: Select access</h4>

> We expect the linter to report an issue, if a column is selected or unselected in a `select` function that does not exist in the data frame.

Given the following input:

```r
df <- data.frame(id = 1:3, name = c("Alice", "Bob", "Charlie"), score = c(90, 65, 75))
df <- dplyr::select(df, id, age, score)
```



We expect the linter to report the following:

```ts
[{ type: 'column', accessed: 'age', access: 'dplyr::select', operand: 'df', range: [2, 7, 2, 39], certainty: LintingResultCertainty.Certain }]
```


See [here](https://github.com/flowr-analysis/flowr/tree/main//test/functionality/linter/lint-dataframe-access-validation.test.ts#L191) for the test-case implementation.
		
<h4 id="Test_Case:_Code_example">Test Case: Code example</h4>

> We expect the linter to report an issue for all non-existent columns accessed in transformation functions like `filter`, `mutate`, and `select`, as well as all non-existent columns and rows accessed via access operators like `[`.

Given the following input:

```r
library(dplyr)

df1 <- data.frame(
    id = c(1, 2, 3, 4),
    score = c(65, 85, 40, 90)
)

df2 <- df1 %>%
    filter(age > 50) %>%
    mutate(level = skill^2) %>%
    select(-name)

print(df2[1:5, 3])
```



We expect the linter to report the following:

```ts
type: 'column', accessed: 'age', access: 'filter', operand: 'df1', range: [9, 5, 9, 20], certainty: LintingResultCertainty.Certain },
{ type: 'column', accessed: 'skill', access: 'mutate', range: [10, 5, 10, 27], certainty: LintingResultCertainty.Certain },
{ type: 'column', accessed: 'name', access: 'select', range: [11, 5, 11, 17], certainty: LintingResultCertainty.Certain },
{ type: 'row', accessed: 5, access: '[', operand: 'df2', range: [13, 7, 13, 17], certainty: LintingResultCertainty.Certain },
{ type: 'column', accessed: 3, access: '[', operand: 'df2', range: [13, 7, 13, 17], certainty: LintingResultCertainty.Certain
```


See [here](https://github.com/flowr-analysis/flowr/tree/main//test/functionality/linter/lint-dataframe-access-validation.test.ts#L200) for the test-case implementation.